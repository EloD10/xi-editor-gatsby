{"data":{"markdownRemark":{"id":"db31e77f-3fda-57fc-9830-61c9f7c222dd","html":"<h2 id=\"table-of-contents\"><a href=\"#table-of-contents\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table Of Contents</h2>\n<ul>\n<li>\n<p><a href=\"#methods\">API Methods</a></p>\n<ul>\n<li>\n<p><a href=\"#from-front-end-to-back-end\">Backend</a></p>\n<ul>\n<li><a href=\"#edit-namespace\">Edit Commands</a></li>\n<li><a href=\"#plugin-namespace\">Plugin Commands</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#from-back-end-to-front-end\">Frontend</a></p>\n<ul>\n<li><a href=\"#status-bar-commands\">Status Bar Commands</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"methods\"><a href=\"#methods\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Methods</h2>\n<p>These are mostly described by example rather than specified in detail.\nThey are given in shorthand, eliding the JSON-RPC boilerplate. For\nexample, the actual interaction on the wire for <code class=\"language-text\">new_view</code> is:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">to core: {&quot;id&quot;:0,&quot;method&quot;:&quot;new_view&quot;,&quot;params&quot;:{}}\nfrom core: {&quot;id&quot;:0,&quot;result&quot;: &quot;view-id-1&quot;}</code></pre></div>\n<h2 id=\"from-front-end-to-back-end\"><a href=\"#from-front-end-to-back-end\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>From front-end to back-end</h2>\n<h3 id=\"client_started\"><a href=\"#client_started\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>client_started</h3>\n<p><code class=\"language-text\">client_started {&quot;config_dir&quot; &quot;some/path&quot;?, &quot;client_extras_dir&quot;:\n&quot;some/other/path&quot;?}</code></p>\n<p>Sent by the client immediately after establishing the core connection. This is\nused to perform initial setup. The two arguments are optional; the <code class=\"language-text\">config_dir</code>\npoints to a directory where the user's config files and plugins live, and the\n<code class=\"language-text\">client_extras_dir</code> points to a directory where the frontend can package\nadditional resources, such as bundled plugins.</p>\n<h3 id=\"new_view\"><a href=\"#new_view\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>new_view</h3>\n<p><code class=\"language-text\">new_view { &quot;file_path&quot;: &quot;path.md&quot;? }</code> -> <code class=\"language-text\">&quot;view-id-1&quot;</code></p>\n<p>Creates a new view, returning the view identifier as a string.\n<code class=\"language-text\">file_path</code> is optional; if specified, the file is loaded into a new\nbuffer; if not a new empty buffer is created. Currently, only a\nsingle view into a given file can be open at a time.</p>\n<p><strong>Note:</strong>, there is currently no mechanism for reporting errors. Also\nnote, the protocol delegates power to load and save arbitrary files.\nThus, exposing the protocol to any other agent than a front-end in\ndirect control should be done with extreme caution.</p>\n<h3 id=\"close_view\"><a href=\"#close_view\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>close_view</h3>\n<p><code class=\"language-text\">close_view {&quot;view_id&quot;: &quot;view-id-1&quot;}</code></p>\n<p>Closes the view associated with this <code class=\"language-text\">view_id</code>.</p>\n<h3 id=\"save\"><a href=\"#save\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>save</h3>\n<p><code class=\"language-text\">save {&quot;view_id&quot;: &quot;view-id-4&quot;, &quot;file_path&quot;: &quot;save.txt&quot;}</code></p>\n<p>Saves the buffer associated with <code class=\"language-text\">view_id</code> to <code class=\"language-text\">file_path</code>. See the\nnote for <code class=\"language-text\">new_view</code>. Errors are not currently reported.</p>\n<h3 id=\"set_theme\"><a href=\"#set_theme\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>set_theme</h3>\n<p><code class=\"language-text\">set_theme {&quot;theme_name&quot;: &quot;InspiredGitHub&quot;}</code></p>\n<p>Asks core to change the theme. If the change succeeds the client\nwill receive a <code class=\"language-text\">theme_changed</code> notification.</p>\n<h3 id=\"set_language\"><a href=\"#set_language\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>set_language</h3>\n<p><code class=\"language-text\">set_language {&quot;view-id&quot;:&quot;view-id-1&quot;, &quot;language_id&quot;:&quot;Rust&quot;}</code></p>\n<p>Asks core to change the language of the buffer associated with the <code class=\"language-text\">view_id</code>.\nIf the change succeeds the client will receive a <code class=\"language-text\">language_changed</code> notification.</p>\n<h3 id=\"modifyuserconfig\"><a href=\"#modifyuserconfig\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>modify<em>user</em>config</h3>\n<p><code class=\"language-text\">modify_user_config { &quot;domain&quot;: Domain, &quot;changes&quot;: Object }</code></p>\n<p>Modifies the user's config settings for the given domain. <code class=\"language-text\">Domain</code> should be\neither the string <code class=\"language-text\">&quot;general&quot;</code> or an object of the form <code class=\"language-text\">{&quot;syntax&quot;: &quot;rust&quot;}</code>, or\n<code class=\"language-text\">{&quot;user_override&quot;: &quot;view-id-1&quot;}</code>, where <code class=\"language-text\">&quot;rust&quot;</code> is any valid syntax identifier,\nand <code class=\"language-text\">&quot;view-id-1&quot;</code> is the identifier of any open view.</p>\n<h3 id=\"get_config\"><a href=\"#get_config\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>get_config</h3>\n<p><code class=\"language-text\">get_config {&quot;view_id&quot;: &quot;view-id-1&quot;} -&gt; Object</code></p>\n<p>Returns the config table for the view associated with this <code class=\"language-text\">view_id</code>.</p>\n<h3 id=\"edit-namespace\"><a href=\"#edit-namespace\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>edit namespace</h3>\n<hr>\n<p><code class=\"language-text\">edit {&quot;method&quot;: &quot;insert&quot;, &quot;params&quot;: {&quot;chars&quot;: &quot;A&quot;}, &quot;view_id&quot;:\n&quot;view-id-4&quot;}</code></p>\n<p>Dispatches the inner method to the per-tab handler, with individual\ninner methods described below:</p>\n<h3 id=\"edit-methods\"><a href=\"#edit-methods\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Edit methods</h3>\n<h4 id=\"insert\"><a href=\"#insert\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>insert</h4>\n<p><code class=\"language-text\">insert {&quot;chars&quot;:&quot;A&quot;}</code></p>\n<p>Inserts the <code class=\"language-text\">chars</code> string at the current cursor locations.</p>\n<h4 id=\"paste\"><a href=\"#paste\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>paste</h4>\n<p><code class=\"language-text\">paste {&quot;chars&quot;: &quot;password&quot;}</code></p>\n<p>Inserts the <code class=\"language-text\">chars</code> string at the current cursor locations. If there are\nmultiple cursors and <code class=\"language-text\">chars</code> has the same number of lines as there are\ncursors, one line will be inserted at each cursor, in order; otherwise the full\nstring will be inserted at each cursor.</p>\n<h4 id=\"copy\"><a href=\"#copy\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>copy</h4>\n<p><code class=\"language-text\">copy -&gt; String|Null</code></p>\n<p>Copies the active selection, returning their contents or <code class=\"language-text\">Null</code> if the selection was empty.</p>\n<h4 id=\"cut\"><a href=\"#cut\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cut</h4>\n<p><code class=\"language-text\">cut -&gt; String|Null</code></p>\n<p>Cut the active selection, returning their contents or <code class=\"language-text\">Null</code> if the selection was empty.</p>\n<h4 id=\"scroll\"><a href=\"#scroll\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scroll</h4>\n<p><code class=\"language-text\">scroll [0,18]</code></p>\n<p>Notifies the back-end of the visible scroll region, defined as the\nfirst and last (non-inclusive) formatted lines. The visible scroll\nregion is used to compute movement distance for page up and page down\ncommands, and also controls the size of the fragment sent in the\n<code class=\"language-text\">update</code> method.</p>\n<h4 id=\"resize\"><a href=\"#resize\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>resize</h4>\n<p><code class=\"language-text\">resize {width: 420, height: 400}</code></p>\n<p>Notifies the backend that the size of the view has changed. This is\nused for word wrapping, if enabled. Width and height are specified\nin px units / points, not display pixels.</p>\n<h4 id=\"click\"><a href=\"#click\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>click</h4>\n<p><code class=\"language-text\">click [42,31,0,1]</code></p>\n<p>Implements a mouse click. The array arguments are: line and column\n(0-based, utf-8 code units), modifiers (again, 2 is shift), and\nclick count.</p>\n<h4 id=\"drag\"><a href=\"#drag\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>drag</h4>\n<p><code class=\"language-text\">drag [42,32,0]</code></p>\n<p>Implements dragging (extending a selection). Arguments are line,\ncolumn, and flag as in <code class=\"language-text\">click</code>.</p>\n<h4 id=\"gesture\"><a href=\"#gesture\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gesture</h4>\n<p><code class=\"language-text\">gesture {&quot;line&quot;: 42, &quot;col&quot;: 31, &quot;ty&quot;: &quot;toggle_sel&quot;}</code></p>\n<p><strong>Note:</strong> both <code class=\"language-text\">click</code> and <code class=\"language-text\">drag</code> functionality will be migrated to\nadditional <code class=\"language-text\">ty</code> options for <code class=\"language-text\">gesture</code>.</p>\n<p>Currently, the following gestures are supported:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">point_select # moves the cursor to a point\ntoggle_sel # adds or removes a selection at a point\nrange_select # modifies the selection to include a point (shift+click)\nline_select # sets the selection to a given line\nword_select # sets the selection to a given word\nmulti_line_select # adds a line to the selection\nmulti_word_select # adds a word to the selection</code></pre></div>\n<h4 id=\"goto_line\"><a href=\"#goto_line\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>goto_line</h4>\n<p><code class=\"language-text\">goto_line {&quot;line&quot;: 1}</code></p>\n<p>Sets the cursor to the beginning of the provided <code class=\"language-text\">line</code> and scrolls to\nthis position.</p>\n<h4 id=\"other-movement-and-deletion-commands\"><a href=\"#other-movement-and-deletion-commands\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Other movement and deletion commands</h4>\n<p>The following edit methods take no parameters, and have similar\nmeanings as NSView actions. The pure movement and selection\nmodification methods will be migrated to a more general method\nthat takes a \"movement\" enum as a parameter.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">delete_backward\ndelete_forward\ninsert_newline\nduplicate_line\nmove_up\nmove_up_and_modify_selection\nmove_down\nmove_down_and_modify_selection\nmove_left\nmove_left_and_modify_selection\nmove_right\nmove_right_and_modify_selection\nscroll_page_up\npage_up_and_modify_selection\nscroll_page_down\npage_down_and_modify_selection\nyank\ntranspose\nselect_all\ncollapse_selections\nadd_selection_above\nadd_selection_below</code></pre></div>\n<h4 id=\"transformations\"><a href=\"#transformations\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transformations</h4>\n<p>The following methods act by modifying the current selection.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">uppercase\nlowercase\ncapitalize\nindent\noutdent</code></pre></div>\n<h4 id=\"number-transformations\"><a href=\"#number-transformations\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Number Transformations</h4>\n<p>The following methods work with a caret or multiple selections. If the beginning of a selection (or the caret) is within a positive or negative number, the number will be transformed accordingly:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">increase_number\ndecrease_number</code></pre></div>\n<h4 id=\"recording\"><a href=\"#recording\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recording</h4>\n<p>These methods allow manipulation and playback of event recordings.</p>\n<ul>\n<li>If there is no currently active recording, start recording events under the provided name.</li>\n<li>If there is no provided name, the current recording is saved.</li>\n<li>If the name provided matches the current recording name, the current recording is saved.</li>\n<li>\n<p>If the name provided does not match the current recording name, the events for the current recording are dismissed.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">toggle_recording {\n&quot;recording_name&quot;?: string\n}</code></pre></div>\n</li>\n</ul>\n<p>Execute a set of recorded events and modify the document state:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">play_recording {\n    &quot;recording_name&quot;: string\n}</code></pre></div>\n<p>Completely remove a specific recording:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">clear_recording {\n    &quot;recording_name&quot;: string\n}</code></pre></div>\n<h3 id=\"language-support-oriented-features-in-edit-namespace\"><a href=\"#language-support-oriented-features-in-edit-namespace\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Language Support Oriented features (in Edit Namespace)</h3>\n<h4 id=\"hover\"><a href=\"#hover\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hover</h4>\n<p>Get Hover for a position in file. The request for <em>hover</em> is made as a notification. The client is forwarded result back via a <code class=\"language-text\">show_hover</code> rpc</p>\n<p>If position is skipped in the request, current cursor position will be used in core.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">request_hover {\n    &quot;request_id&quot;: number,\n    &quot;position&quot;?: Position\n}</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">interface Position {\n    line: number,\n    column: number,\n}</code></pre></div>\n<h3 id=\"plugin-namespace\"><a href=\"#plugin-namespace\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin namespace</h3>\n<p><strong>Note:</strong> plugin commands are in flux, and may change.</p>\n<p><strong>Example</strong>: The following RPC dispatches the inner method to the plugin manager.</p>\n<p><code class=\"language-text\">plugin {&quot;method&quot;: &quot;start&quot;, params: {&quot;view_id&quot;: &quot;view-id-1&quot;, plugin_name: &quot;syntect&quot;}}</code></p>\n<hr>\n<h3 id=\"plugin-methods\"><a href=\"#plugin-methods\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugin methods</h3>\n<h4 id=\"start\"><a href=\"#start\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>start</h4>\n<p><code class=\"language-text\">start {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;plugin_name&quot;: &quot;syntect&quot;}</code></p>\n<p>Starts the named plugin for the given view.</p>\n<h4 id=\"stop\"><a href=\"#stop\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>stop</h4>\n<p><code class=\"language-text\">stop {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;plugin_name&quot;: &quot;syntect&quot;}</code></p>\n<p>Stops the named plugin for the given view.</p>\n<h4 id=\"plugin_rpc\"><a href=\"#plugin_rpc\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>plugin_rpc</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">plugin_rpc {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;receiver&quot;: &quot;syntect&quot;,\n            &quot;notification&quot;: {\n                &quot;method&quot;: &quot;custom_method&quot;,\n                &quot;params&quot;: {&quot;foo&quot;: &quot;bar&quot;},\n            }}</code></pre></div>\n<p>Sends a custom rpc command to the named receiver. This may be a notification\nor a request.</p>\n<h3 id=\"find-and-replace-methods\"><a href=\"#find-and-replace-methods\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Find and replace methods</h3>\n<h4 id=\"find\"><a href=\"#find\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>find</h4>\n<p><code class=\"language-text\">find {&quot;chars&quot;: &quot;a&quot;, &quot;case_sensitive&quot;: false, &quot;regex&quot;: false, &quot;whole_words&quot;: true}</code>\nParameters <code class=\"language-text\">regex</code> and <code class=\"language-text\">whole_words</code> are optional and by default <code class=\"language-text\">false</code>.</p>\n<p>Sets the current search query and options.</p>\n<h4 id=\"multi_find\"><a href=\"#multi_find\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>multi_find</h4>\n<p>This find command supports multiple search queries.</p>\n<p><code class=\"language-text\">multi_find [{&quot;id&quot;: 1, &quot;chars&quot;: &quot;a&quot;, &quot;case_sensitive&quot;: false, &quot;regex&quot;: false, &quot;whole_words&quot;: true}]</code>\nParameters <code class=\"language-text\">regex</code> and <code class=\"language-text\">whole_words</code> are optional and by default <code class=\"language-text\">false</code>. <code class=\"language-text\">id</code> is an optional parameter\nused to uniquely identify a search query. If left empty, the query is considered as a new query and\nthe backend will generate a new ID.</p>\n<p>Sets the current search queries and options.</p>\n<h4 id=\"findnext-and-findprevious\"><a href=\"#findnext-and-findprevious\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>find<em>next and find</em>previous</h4>\n<p><code class=\"language-text\">find_next {&quot;wrap_around&quot;: true, &quot;allow_same&quot;: false, &quot;modify_selection&quot;: &quot;set&quot;}</code>\n<code class=\"language-text\">find_previous {&quot;wrap_around&quot;: true, &quot;allow_same&quot;: false, &quot;modify_selection&quot;: &quot;set&quot;}</code>\nAll parameters are optional. Boolean parameters are by default <code class=\"language-text\">false</code> and <code class=\"language-text\">modify_selection</code>\nis <code class=\"language-text\">set</code> by default. If <code class=\"language-text\">allow_same</code> is set to <code class=\"language-text\">true</code> the current selection is considered a\nvalid next occurrence. Supported options for <code class=\"language-text\">modify_selection</code> are:</p>\n<ul>\n<li><code class=\"language-text\">none</code>: the selection is not modified</li>\n<li><code class=\"language-text\">set</code>: the next/previous match will be set as the new selection</li>\n<li><code class=\"language-text\">add</code>: the next/previous match will be added to the current selection</li>\n<li><code class=\"language-text\">add_remove_current</code>: the previously added selection will be removed and the next/previous\nmatch will be added to the current selection</li>\n</ul>\n<p>Selects the next/previous occurrence matching the search query.</p>\n<h4 id=\"find_all\"><a href=\"#find_all\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>find_all</h4>\n<p><code class=\"language-text\">find_all { }</code></p>\n<p>Selects all occurrences matching the search query.</p>\n<h4 id=\"highlight_find\"><a href=\"#highlight_find\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>highlight_find</h4>\n<p><code class=\"language-text\">highlight_find {&quot;visible&quot;: true}</code></p>\n<p>Shows/hides active search highlights.</p>\n<h4 id=\"selectionforfind\"><a href=\"#selectionforfind\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>selection<em>for</em>find</h4>\n<p><code class=\"language-text\">selection_for_find {&quot;case_sensitive&quot;: false}</code>\nThe parameter <code class=\"language-text\">case_sensitive</code> is optional and <code class=\"language-text\">false</code> if not set.</p>\n<p>Sets the current selection as the search query.</p>\n<h4 id=\"replace\"><a href=\"#replace\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>replace</h4>\n<p><code class=\"language-text\">replace {&quot;chars&quot;: &quot;a&quot;, &quot;preserve_case&quot;: false}</code>\nThe parameter <code class=\"language-text\">preserve_case</code> is currently not implemented and ignored.</p>\n<p>Sets the replacement string.</p>\n<h4 id=\"selectionforreplace\"><a href=\"#selectionforreplace\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>selection<em>for</em>replace</h4>\n<p><code class=\"language-text\">selection_for_replace {&quot;case_sensitive&quot;: false}</code>\nThe parameter <code class=\"language-text\">case_sensitive</code> is optional and <code class=\"language-text\">false</code> if not set.</p>\n<p>Sets the current selection as the replacement string.</p>\n<h4 id=\"replace_next\"><a href=\"#replace_next\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>replace_next</h4>\n<p><code class=\"language-text\">replace_next { }</code></p>\n<p>Replaces the next matching occurrence with the replacement string.</p>\n<h4 id=\"replace_all\"><a href=\"#replace_all\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>replace_all</h4>\n<p><code class=\"language-text\">replace_all { }</code></p>\n<p>Replaces all matching occurrences with the replacement string.</p>\n<h4 id=\"selectionintolines\"><a href=\"#selectionintolines\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>selection<em>into</em>lines</h4>\n<p><code class=\"language-text\">selection_into_lines { }</code></p>\n<p>Splits all current selections into lines.</p>\n<h2 id=\"from-back-end-to-front-end\"><a href=\"#from-back-end-to-front-end\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>From back-end to front-end</h2>\n<h3 id=\"view-update-protocol\"><a href=\"#view-update-protocol\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>View update protocol</h3>\n<p>The following three methods are used to update the view's contents. The design\nof the view update protocol, has a few particular goals in mind:</p>\n<ul>\n<li>Keep everything async.</li>\n<li>Keep network traffic minimal.</li>\n<li>Allow the front-end to retain as much information as possible (including text\nif only cursors are updated).</li>\n<li>Allow the front-end to use small amounts of memory even when document is\nlarge.</li>\n</ul>\n<p>Conceptually, the core maintains a full view of the document, which can be\nconsidered an array of lines. Each line consists of the <em>text</em> (a string), a set\nof <em>cursor</em> locations, and a structure representing <em>style</em> information. Many\noperations update this view, at which point the core sends an <code class=\"language-text\">update</code>\nnotification to the front-end.</p>\n<p>The front-end maintains a <em>cache</em> of this view. Some lines will be present,\nothers will be missing. A cache is consistent with the true state when all\npresent lines match.</p>\n<p>To optimize communication, the core keeps some state about the client. One bit\nof this state is the <em>scroll window;</em> in general, the core tries to proactively\nupdate all lines within this window (plus a certain amount of slop on top and\nbottom). In addition, the core maintains a set of lines in the client's cache.\nIf a line changes, the update need only be communicated if it is in this set.\nThis set is conservative; if a line is missing in the actual cache held by the\nfront-end (evicted to save memory), no great harm is done updating it. The\nfrontend reports this scroll window to the core by using the <code class=\"language-text\">scroll</code> method of\nthe <code class=\"language-text\">edit</code> notification.</p>\n<h4 id=\"def_style\"><a href=\"#def_style\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>def_style</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">def_style\n  id: number\n  fg_color?: number // 32-bit ARGB (word-order) value\n  bg_color?: number // 32-bit ARGB (word-order) value, default 0\n  weight?: number // 100..900, default 400\n  italic?: boolean  // default false\n  underline?: boolean // default false</code></pre></div>\n<p>(It's not hard to imagine more style properties such as typeface, size, OpenType\nfeatures, etc).</p>\n<p>The guarantee on <code class=\"language-text\">id</code> is that it is not currently in use in any lines in the\nview. However, in practice, it will probably just count up. It can also be\nassumed to be small, so using it as an index into a dense array is reasonable.</p>\n<p>There are two reserved style IDs, so new style IDs will begin at 2. Style ID 0\nis reserved for selections and ID 1 is reserved for find results.</p>\n<h4 id=\"scroll_to\"><a href=\"#scroll_to\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scroll_to</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">scroll_to: [number, number]  // line, column (in utf-8 code units)</code></pre></div>\n<p>This notification indicates that the frontend should scroll its cursor to the\ngiven line and column.</p>\n<h4 id=\"update\"><a href=\"#update\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>update</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">update\n  rev?: number\n  ops: Op[]\n  view-id: string\n  pristine: bool\n\ninterface Op {\n  op: &quot;copy&quot; | &quot;skip&quot; | &quot;invalidate&quot; | &quot;update&quot; | &quot;ins&quot;\n  n: number  // number of lines affected\n  lines?: Line[]  // only present when op is &quot;update&quot; or &quot;ins&quot;\n}</code></pre></div>\n<p>The <code class=\"language-text\">pristine</code> flag indicates whether or not, after this update, this document\nhas unsaved changes.</p>\n<p>The <code class=\"language-text\">rev</code> field is not present in current builds, but will be at some point in\nthe future.</p>\n<p>An update request can be seen as a function from the old client cache state to a\nnew one. During evaluation, maintain an index (<code class=\"language-text\">old_ix</code>) into the old <code class=\"language-text\">lines</code>\narray, initially 0, and a new lines array, initially empty. [Note that this\ndocument specifies the semantics. The actual implementation will almost\ncertainly represent at least initial and trailing sequences of invalid lines by\ntheir count; and the editing operations may be more efficiently done in-place\nthan by copying from the old state to the new].</p>\n<p>The \"copy\" op appends the <code class=\"language-text\">n</code> lines <code class=\"language-text\">[old_ix .. old_ix + n]</code> to the new lines\narray, and increments <code class=\"language-text\">old_ix</code> by <code class=\"language-text\">n</code>.</p>\n<p>The \"skip\" op increments <code class=\"language-text\">old_ix</code> by <code class=\"language-text\">n</code>.</p>\n<p>The \"invalidate\" op appends n invalid lines to the new lines array.</p>\n<p>The \"ins\" op appends new lines, specified by the \"<code class=\"language-text\">lines</code>\" parameter, specified\nin more detail below. For this op, <code class=\"language-text\">n</code> must equal <code class=\"language-text\">lines.length</code> (alternative:\nmake n optional in this case). It does not update <code class=\"language-text\">old_ix</code>.</p>\n<p>The \"update\" op updates the cursor and/or style of n existing lines. As in\n\"ins\", n must equal lines.length. It also increments <code class=\"language-text\">old_ix</code> by <code class=\"language-text\">n</code>.</p>\n<p><strong>Note:</strong> The \"update\" op is not currently used by core.</p>\n<p>In all cases, n is guaranteed positive and nonzero (as a consequence, any line\npresent in the old state is copied at most once to the new state).</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">interface Line {\n  text?: string  // present when op is &quot;update&quot;\n  cursor?: number[]  // utf-8 code point offsets, in increasing order\n  styles?: number[]  // length is a multiple of 3, see below\n}</code></pre></div>\n<p>The interpretation of a line is different for \"update\" or \"ins\" ops. In an \"ins\"\nop, text is always present, and missing cursor or styles properties are\ninterpreted as empty (no cursors on that line, no styles).</p>\n<p>In an \"update\" op, then the text property is absent from the line, and text is\ncopied from the previous state (or left invalid if the previous state is\ninvalid), and the cursor and styles are updated if present. To delete cursors\nfrom a line, the core sets the cursor property to the empty list.</p>\n<p>The styles property represents style spans, in an efficient encoding. It is\nconceptually an array of triples (though flattened, so triple at is\n<code class=\"language-text\">styles[i*3]</code>, <code class=\"language-text\">styles[i*3 + 1]</code>, <code class=\"language-text\">styles[i*3 + 2]</code>). The first element of the\ntriple is the start index (in utf-8 code units), but encoded as a delta relative\nto the <em>end</em> of the last span (or relative to 0 for the first triple). It may be\nnegative, if spans overlap. The second element is the length (in utf-8 code\nunits). It is guaranteed nonzero and positive. The third element is a style id.\nThe core guarantees that any style id sent in a styles property will have\npreviously been set in a set_style request.</p>\n<p>The number of lines in the new lines array always matches the view as maintained\nby the core. Another way of saying this is that adding all \"<code class=\"language-text\">n</code>\" values except\nfor \"skip\" operations is the number of lines. [Discussion: the last line always\nrepresents a partial line, so an empty document is one empty line. But I think\nthe initial state should be the empty array. Then, the empty array represents\nthe state that no updates have been processed].</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">interface Line {\n  text?: string  // present when op is &quot;update&quot;\n  cursor?: number[]  // utf-8 code point offsets, in increasing order\n  styles?: number[]  // length is a multiple of 3, see below\n}</code></pre></div>\n<h4 id=\"measure_width\"><a href=\"#measure_width\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>measure_width</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">measure_width [{&quot;id&quot;: number, &quot;strings&quot;: string[]}] &lt;- {&quot;id&quot;:0, &quot;result&quot;:[[28.0,8.0]]}</code></pre></div>\n<p>Asks the frontend to measure the display widths (the width when rendered and presented on screen) of a group of strings. The frontend should return an array of arrays, one for each item in the input array, containing the widths of each of that item's strings when rendered with the style indicated by that items id argument.</p>\n<p>These widths are used to determine how to <a href=\"https://xi-editor.github.io/xi-editor/docs/rope_science_05.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">calculate line breaks</a> and other attributes that depend on the behaviour of the client's text rendering system.</p>\n<hr>\n<h4 id=\"theme_changed\"><a href=\"#theme_changed\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>theme_changed</h4>\n<p><code class=\"language-text\">theme_changed {&quot;name&quot;: &quot;InspiredGitHub&quot;, &quot;theme&quot;: Theme}</code></p>\n<p>Notifies the client that the theme has been changed. The client should\nuse the new theme to set colors as appropriate. The <code class=\"language-text\">Theme</code> object is\ndirectly serialized from a <a href=\"https://github.com/trishume/syntect/blob/master/src/highlighting/theme.rs#L27\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">syntect::highlighting::ThemeSettings</code></a>\ninstance.</p>\n<h4 id=\"available_themes\"><a href=\"#available_themes\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>available_themes</h4>\n<p><code class=\"language-text\">available_themes {&quot;themes&quot;: [&quot;InspiredGitHub&quot;]}</code></p>\n<p>Notifies the client of the available themes.</p>\n<h4 id=\"language_changed\"><a href=\"#language_changed\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>language_changed</h4>\n<p><code class=\"language-text\">language_changed {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;language_id&quot;: &quot;Rust&quot;}</code></p>\n<p>Notifies the client that the language used for syntax highlighting has been changed.</p>\n<h4 id=\"available_languages\"><a href=\"#available_languages\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>available_languages</h4>\n<p><code class=\"language-text\">available_languages {&quot;languages&quot;: [&quot;Rust&quot;]}</code></p>\n<p>Notifies the client of the available languages.</p>\n<h4 id=\"config_changed\"><a href=\"#config_changed\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>config_changed</h4>\n<p><code class=\"language-text\">config_changed {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;changes&quot;: {} }</code></p>\n<p>Notifies the client that the config settings for a view have changed.\nThis is called once when a new view is created, with <code class=\"language-text\">changes</code> containing\nall config settings; afterwards <code class=\"language-text\">changes</code> only contains the key/value\npairs that have new values.</p>\n<h4 id=\"available_plugins\"><a href=\"#available_plugins\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>available_plugins</h4>\n<p><code class=\"language-text\">available_plugins {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;plugins&quot;: [{&quot;name&quot;: &quot;syntect&quot;,\n&quot;running&quot;: true]}</code></p>\n<p>Notifies the client of the plugins available to the given view.</p>\n<h4 id=\"plugin_started\"><a href=\"#plugin_started\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>plugin_started</h4>\n<p><code class=\"language-text\">plugin_started {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;plugin&quot;: &quot;syntect&quot;}</code></p>\n<p>Notifies the client that the named plugin is running.</p>\n<h4 id=\"plugin_stopped\"><a href=\"#plugin_stopped\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>plugin_stopped</h4>\n<p><code class=\"language-text\">plugin_stopped {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;plugin&quot;: &quot;syntect&quot;, &quot;code&quot; 101}</code></p>\n<p>Notifies the client that the named plugin has stopped. The <code class=\"language-text\">code</code> field is an\ninteger exit code; currently 0 indicates a user-initiated exit and 1 indicates\nan abnormal exit, i.e. a plugin crash.</p>\n<h4 id=\"update_cmds\"><a href=\"#update_cmds\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>update_cmds</h4>\n<p><code class=\"language-text\">update_cmds {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;plugin&quot;, &quot;syntect&quot;, &quot;cmds&quot;: [Command]}</code></p>\n<p>Notifies the client of a change in the available commands for a given plugin.\nThe <code class=\"language-text\">cmds</code> field is a list of all commands currently available to this plugin.\nClients should store commands on a per-plugin basis; when the <code class=\"language-text\">cmds</code> argument is\nan empty list it means that this plugin is providing no commands; any previously\navailable commands should be disabled.</p>\n<p>The format for describing a <code class=\"language-text\">Command</code> is in flux. The best place to look for\na working example is in the tests in core-lib/src/plugins/manifest.rs. As of\nthis writing, the following is valid json for a <code class=\"language-text\">Command</code> object:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">    <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Test Command\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Passes the current test\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"rpc_cmd\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"rpc_type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"notification\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"method\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test.cmd\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"params\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"view\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"non_arg\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"plugin supplied value\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"arg_one\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"arg_two\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"First argument\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Indicates something\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"arg_one\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"arg_type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Bool\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Favourite Number\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"A number used in a test.\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"arg_two\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"arg_type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Choice\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token property\">\"options\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                    <span class=\"token punctuation\">{</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Five\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">{</span><span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Ten\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"language-support-specific-commands\"><a href=\"#language-support-specific-commands\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Language Support Specific Commands</h3>\n<h4 id=\"show-hover\"><a href=\"#show-hover\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Show Hover</h4>\n<p><code class=\"language-text\">show_hover { request_id: number, result: string }</code></p>\n<h3 id=\"status-bar-commands\"><a href=\"#status-bar-commands\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Status Bar Commands</h3>\n<h4 id=\"addstatusitem\"><a href=\"#addstatusitem\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>add<em>status</em>item</h4>\n<p><code class=\"language-text\">add_status_item { &quot;source&quot;: &quot;status_example&quot;, &quot;key&quot;: &quot;my_key&quot;, &quot;value&quot;: &quot;hello&quot;, &quot;alignment&quot;: &quot;left&quot; }</code></p>\n<p>Adds a status item, which will be displayed on the frontend's status bar. Status items have a reference to whichever plugin added them. The alignment key dictates whether this item appears on the left side or the right side of the bar. This alignment can only be set when the item is added.</p>\n<h4 id=\"updatestatusitem\"><a href=\"#updatestatusitem\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>update<em>status</em>item</h4>\n<p><code class=\"language-text\">update_status_item { &quot;key&quot;: &quot;my_key&quot;, &quot;value&quot;: &quot;hello&quot;}</code></p>\n<p>Update a status item with the specified key with the new value.</p>\n<h4 id=\"removestatusitem\"><a href=\"#removestatusitem\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>remove<em>status</em>item</h4>\n<p><code class=\"language-text\">remove_status_item { &quot;key&quot;: &quot;my_key&quot; }</code></p>\n<p>Removes a status item from the front end.</p>\n<h3 id=\"find-and-replace-commands\"><a href=\"#find-and-replace-commands\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Find and replace commands</h3>\n<h4 id=\"find_status\"><a href=\"#find_status\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>find_status</h4>\n<p>Find supports multiple search queries.</p>\n<p><code class=\"language-text\">find_status {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;queries&quot;: [{&quot;id&quot;: 1, &quot;chars&quot;: &quot;a&quot;, &quot;case_sensitive&quot;: false, &quot;is_regex&quot;: false, &quot;whole_words&quot;: true, &quot;matches&quot;: 6, &quot;lines&quot;: [1, 3, 3, 6]}]}</code></p>\n<p>Notifies the client about the current search queries and search options. <code class=\"language-text\">lines</code> indicates for each match its line number.</p>\n<h4 id=\"replace_status\"><a href=\"#replace_status\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>replace_status</h4>\n<p><code class=\"language-text\">replace_status {&quot;view_id&quot;: &quot;view-id-1&quot;, &quot;status&quot;: {&quot;chars&quot;: &quot;a&quot;, &quot;preserve_case&quot;: false}}</code></p>\n<p>Notifies the client about the current replacement string and replace options.</p>\n<h2 id=\"other-future-extensions\"><a href=\"#other-future-extensions\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Other future extensions</h2>\n<p>Things the protocol will need to cover:</p>\n<ul>\n<li>\n<p>Dirty state (for visual indication and dialog on unsaved changes).</p>\n</li>\n<li>\n<p>Minimal invalidation.</p>\n</li>\n<li>\n<p>General configuration options (word wrap, etc).</p>\n</li>\n<li>\n<p>Display of autocomplete options.</p>\n</li>\n<li>\n<p>...</p>\n</li>\n</ul>","excerpt":"Table Of Contents API Methods Backend Edit Commands Plugin Commands Frontend Status Bar Commands Methods These are mostly described by example rather than specified in detail.\nThey are given in shorthand, eliding the JSON-RPC boilerplate. For\nexample, the actual interaction on the wire for   is…","frontmatter":{"title":"The Frontend Protocol"}},"allMarkdownRemark":{"edges":[{"node":{"id":"159ebaf9-aed2-5ad5-b403-f0a2c391cbef","fields":{"slug":"/frontend-notes/"},"frontmatter":{"title":"Notes on writing front-ends"}}},{"node":{"id":"db31e77f-3fda-57fc-9830-61c9f7c222dd","fields":{"slug":"/frontend-protocol/"},"frontmatter":{"title":"The Frontend Protocol"}}},{"node":{"id":"e81dd02d-d53d-5928-978d-37b7a16cdb61","fields":{"slug":"/plugin/"},"frontmatter":{"title":"Plugin architecture"}}},{"node":{"id":"056635a4-9cff-573b-9253-1c2afd68ff96","fields":{"slug":"/config/"},"frontmatter":{"title":"Working with the config system"}}},{"node":{"id":"ef83d327-af33-537c-b865-304c9cbd7567","fields":{"slug":"/crdt/"},"frontmatter":{"title":"CRDT - An approach to async plugins and undo"}}},{"node":{"id":"e7b10047-5613-53ea-bdeb-3989cfe8ac10","fields":{"slug":"/crdt-details/"},"frontmatter":{"title":"CRDT - The Xi Text Engine"}}},{"node":{"id":"8493f667-6117-50a0-bc92-21f304190a9f","fields":{"slug":"/fuchsia-ledger-crdts/"},"frontmatter":{"title":"CRDT - Using the Ledger for CRDTs"}}},{"node":{"id":"637adc80-f545-583f-b103-0e6256f0efe1","fields":{"slug":"/rope-science-00/"},"frontmatter":{"title":"Rope science - Introduction"}}},{"node":{"id":"d6abbbb0-ce0b-5810-8ab1-40db5f8fbb4d","fields":{"slug":"/rope-science-01/"},"frontmatter":{"title":"Rope science, part 1 - MapReduce for text"}}},{"node":{"id":"0b56a298-7fea-52be-b0c1-1924e8de94df","fields":{"slug":"/rope-science-02/"},"frontmatter":{"title":"Rope science, part 2 - metrics"}}},{"node":{"id":"f3d25a72-d849-52f7-8fb4-6d586db9b401","fields":{"slug":"/rope-science-03/"},"frontmatter":{"title":"Rope science, part 3 - Grapheme cluster boundaries"}}},{"node":{"id":"ed9dc1bf-9c35-58a0-b8ed-e702bdbc974f","fields":{"slug":"/rope-science-04/"},"frontmatter":{"title":"Rope science, part 4 - parenthesis matching"}}},{"node":{"id":"e3b3971e-a314-5c04-adc0-30c2e2f21345","fields":{"slug":"/rope-science-05/"},"frontmatter":{"title":"Rope science, part 5 - incremental word wrapping"}}},{"node":{"id":"271d1a9b-90e4-5315-b138-2a02a017e117","fields":{"slug":"/rope-science-06/"},"frontmatter":{"title":"Rope science, part 6 - parallel and asynchronous word wrapping"}}},{"node":{"id":"ef5e3b38-01da-5a9c-ad36-fce16dacff86","fields":{"slug":"/rope-science-08/"},"frontmatter":{"title":"Rope science, part 8 - CRDTs for concurrent editing"}}},{"node":{"id":"0c5f285f-2a9b-589f-8eff-a79435e54257","fields":{"slug":"/rope-science-09/"},"frontmatter":{"title":"Rope science, part 9 - CRDT Approach to Async Plugins and Undo"}}},{"node":{"id":"ef95af30-321f-5d87-a5e3-720e4eff00f9","fields":{"slug":"/rope-science-10/"},"frontmatter":{"title":"Rope science, part 10 - designing for a conflict-free world"}}},{"node":{"id":"4dd8698d-d45f-543c-9905-eba9659b68b0","fields":{"slug":"/rope-science-11/"},"frontmatter":{"title":"Rope science, part 11 - practical syntax highlighting"}}}]}},"pageContext":{"id":"db31e77f-3fda-57fc-9830-61c9f7c222dd"}}